{"version":3,"sources":["main.js","app.js","home.controller.js","home.service.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["$.ajaxSetup({\n    headers: {\n        'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n    }\n});\n\nvar CreateUrlForm = {\n    init: function() {\n        this.bindEvents();\n    },\n    bindEvents: function() {\n        var self = this;\n        $(document).on('click', '#show-add-url-form', $.proxy(this.showModal, this));\n    },\n    showModal: function() {\n        swal({\n            title: 'Make Url Little',\n            input: 'text',\n            showCancelButton: true,\n            confirmButtonText: 'Make Little',\n            showLoaderOnConfirm: true,\n            preConfirm: $.proxy(this.saveUrl, this),\n            allowOutsideClick: false\n        }).then(this.showSuccessMessage);\n    },\n    saveUrl: function(url) {\n        var self = this;\n        return new Promise(function(resolve, reject) {\n            var data = {\n                url: url\n            };\n\n            $.post('/url/create', data)\n                .done(function(response) {\n                    setTimeout(function() {\n                        self.refreshPage();\n                        resolve();\n                    }, 1000)\n                })\n                .fail(function(jqXHR, textStatus, errorThrown) {\n                    reject(jqXHR.responseJSON.url[0]);\n                });\n        });\n    },\n    showSuccessMessage: function() {\n        swal({\n            title: 'Success!',\n            text: 'Url Made Little.',\n            type: 'success',\n            timer: 2000\n        });\n    },\n    refreshPage: function() {\n        if (typeof UrlList != 'undefined') {\n            UrlList.loadUrlList();\n        } else if (window.location.pathname === '/account') {\n            window.location.reload();\n        }\n    }\n};\n\n$(function() {\n    CreateUrlForm.init();\n});\n","\n'use strict';\n\nvar app = angular.module('Ltltr', []);\nvar home = angular.module('home', ['angular-clipboard', 'angular-ladda']);\n","home.controller('HomeController', ['$scope', 'UrlService', 'clipboard',\n    function($scope, UrlService, clipboard) {\n        $scope.errorOccured = false;\n        $scope.urlCreated = false;\n\n        $scope.copyUrl = function() {\n            clipboard.copyText($scope.url);\n            swal({\n                title: 'Success',\n                text: 'Url Copied to Clipboard',\n                type: 'success',\n                showConfirmButton: false,\n                timer: 1000\n            });\n        };\n\n        $scope.removeErrorMessage  = function() {\n            $scope.errorOccured = false;\n        };\n\n        $scope.createUrl = function() {\n            $scope.loading = true;\n            UrlService.create($scope.url).then(showSuccessMessage, showErrorMessage);\n        };\n\n        var showSuccessMessage = function(response) {\n            $scope.currentUrl = response.data.url.link;\n            $scope.urlCreated = true;\n            $scope.loading = false;\n            $scope.errorOccured = false;\n        };\n\n        var showErrorMessage = function(response) {\n            $scope.urlCreated = false;\n            $scope.errorOccured = true;\n            $scope.errorMessage = response.data.url[0];\n            $scope.loading = false;\n        };\n}]);\n","home.factory('UrlService', function($http) {\n    return {\n        create: function(url) {\n            return $http.post('url/create', { url: url });\n        }\n    }\n});\n"]}